{% extends "main/single_card_base.html" %}
{% block title %}Log In{% endblock title %}
{% block card-title %}Log In{% endblock card-title %}Log In

{% block card-content %}
<form action="{% url 'login' %}?next={{ next }}" method="POST">
    {% csrf_token %}
    <div class="field-wrapper form-group row">
        <label for="{{ form.username.id_for_label }}">Username</label>
        <input id="{{ form.username.id_for_label }}"
            class="form-control{% if form.errors %} is-invalid{% endif %}"
            type="text"
            name="{{ form.username.name }}"
            maxlength="150"
            value="{{ form.username.value|default_if_none:'' }}"
            required>
    </div>
    <div class="field-wrapper form-group row">
        <label for="{{ form.password.id_for_label }}">Password</label>
        <input id="{{ form.password.id_for_label }}"
            class="form-control{% if form.errors %} is-invalid{% endif %}"
            type="password"
            name="{{ form.password.name }}"
            autocomplete="current-password"
            value="{{ form.password.value|default_if_none:'' }}"
            required>
        <div class="invalid-feedback">
            Incorrect username or password. Please try again.
        </div>
        <div class="form-links">
            <a href="{% url 'registration' %}">I don't have an account</a>
            <a href="{% url 'password-reset' %}">I forgot my password</a>
        </div>

    </div>
    <div class="form-group row justify-content-end">
        <button type="submit" class="btn btn-primary" style="width: 100%;">Log In</button>
    </div>
</form>
{% endblock card-content %}
